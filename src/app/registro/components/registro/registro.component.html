<div class="container">
    <div class="container__message-box">
        <!--<img class="container__logo"src="assets/images/logo-white.svg">
        <p class="container__message">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco.</p>
        <span class="container__autor">Lorem ipsum</span>-->
    </div>
    <div class="container__form-box overflow-scroll">
        <!--<div class="container__back-button">
            <img src="assets/icons/arrow-back-ios.svg" (click)="exiting($event)">
            <span class="container__back-button-label" (click)="exiting($event)">Regresar</span>
        </div>-->
        
        
            <div class="container-form">

                <div class="container-form__alert alert alert-danger" role="alert" *ngIf="error != ''">
                    {{error}}
                 </div>
                 <div class="container-form__alert alert alert alert-success" role="alert" *ngIf="success">
                     Registro exitoso!
                   </div>
                 <div class="container-form__box-title">
                     <h4 class="container__title">Registrate</h4>
                     <p class="container__message-2">Ya estás registrado? ingresa por <a href="#">aquí</a></p>
                 </div> 
                <form [formGroup]="form" (ngSubmit)="onSubmit()">
                <div class="container-form__box1">
                    <span class="container-form__label">Correo electrónico*</span>
                    <input class="container-form__input form-input-text-square" [ngClass]="invalid('email') ? 'invalid-input' : ''" type="text" placeholder="    Ingresa tu correo electronico" formControlName="email" (input)="onChange()">
                    <div *ngIf="invalid('email')" class="danger-message">
                        <div *ngIf="email?.errors?.['required']">
                            No haz escrito tu email:(
                        </div>
                        <div *ngIf="email?.errors?.['email']">
                            Escribe un email correcto!
                        </div>
                    </div>
                    <label class="container-form__label" for="cars">Cual es tu rol en la plataforma?*</label>
                    <select class="container-form__input form-input-text-square" name="cars" id="cars" formControlName="tipoUsuario">
                    <optgroup label="Eres un">
                        <option hidden="hidden" selected="selected">Escoje uno</option>
                        <option *ngFor="let tipo of tipoUsuarios" [ngValue]="tipo.id_tipo_usuario">{{tipo.nombre_tipo_usuario}}</option>
                    </optgroup>
                    </select>
                    <div *ngIf="invalid('tipoUsuario')" class="danger-message">
                        <div *ngIf="tipoUsuario?.errors?.['required']">
                            Escoje un tipo de usuario
                        </div>
                    </div>
                    <span class="container-form__label">Crea una contraseña*</span>
                    <input class="container-form__input form-input-text-square" [ngClass]="invalid('password') ? 'invalid-input' : ''" type="password" placeholder="    Contraseña" formControlName="password">
                    <span class="container-form__title">Debe tener al menos: </span>
                    <span class="container-form__label3" [ngClass]="eigthChar(password?.value) ? 'success': ''">8 caracteres</span>
                    <span class="container-form__label3" [ngClass]="capitalcase(password?.value) ? 'success': ''">Una mayuscula</span>
                    <span class="container-form__label3" [ngClass]="lowercase(password?.value) ? 'success': ''">Una minuscula</span>
                    <span class="container-form__label3" [ngClass]="number(password?.value) ? 'success': ''">Un numero de cero a 9</span>
                    <div *ngIf="invalid('password')" class="danger-message">
                        <div *ngIf="password?.errors?.['required']">
                            Escribe una contraseña
                        </div>
                    </div>
                    <span class="container-form__label">Ingresa nuevamente la contraseña*</span>
                    <input class="container-form__input form-input-text-square" [ngClass]="invalid('matchPassword') ? 'invalid-input' : ''" type="password" placeholder="    Contraseña" formControlName="matchPassword">    
                    <div *ngIf="invalid('matchPassword') || noMatchingPasswords()" class="danger-message">
                        <div *ngIf="matchPassword?.errors?.['required']">
                            Escribe nuevamente la contraseña
                        </div>
                        <div *ngIf="password?.value != matchPassword?.value">
                            Las contraseñas no coinciden
                        </div>
                    </div>

                    <div class="container-form__terms-box">
                        <input class="container-form__checkbox" type="checkbox" formControlName="terms">
                        <!--<span>He leido, entendido y acepto los <button class="link" (click)="openScrollableContent()">terminos  y  condiciones</button></span>-->
                        <ngbd-modal-options></ngbd-modal-options>
                    </div>
                    <div *ngIf="invalid('terms')" class="danger-message">
                        <div *ngIf="!terms?.value">
                            Debes aceptar los terminos
                        </div>
                    </div>
                    
                    <button class="container-form__button btn-rounded btn--morado" type="submit">Registrar una cuenta</button>
            
                    <p class="container-form__label2">ó</p>
                </div>
                </form>
                <button class="container-form__button-white btn-rounded btn--white" (click)="loginWithGoogle()"><img src="assets/icons/google-icon.svg"><span class="container-form__button-text">Registrate con Google</span></button>
            </div>
    </div>
    <ngx-spinner type="square-jelly-box"></ngx-spinner>
</div>