<div class="container-fluid container-fluid ">
  <div class="row mirow">
    <nav *ngIf="!sidebar" id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse mt-5">
      <div class="position-sticky pt-3" style="padding: 10px;">
      <ng-container *ngTemplateOutlet="menuDashboardPerfil"></ng-container>
      </div>
    </nav>
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 overflow-x miclassmain">
      <div class="buttonOpenOffCamvas" type="button" (click)="openOffcanvas()" style="width: 45px;height: 45px;">
        <svg width="100%" height="100%" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="25" cy="25" r="25" fill="#26A5B8" />
          <rect x="9" y="14" width="32" height="4" rx="2" fill="white" />
          <rect x="9" y="23" width="32" height="4" rx="2" fill="white" />
          <rect x="9" y="32" width="32" height="4" rx="2" fill="white" />
        </svg>
      </div>
      <ngx-guided-tour nextText="Siguiente" skipText="Omitir" backText="Atrás" doneText="Listo"
        [topOfPageAdjustment]=32></ngx-guided-tour>
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
<div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="true" tabindex="-1"
  id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel">
  <div class="offcanvas-header bg-light">
    <button type="button" class="btn-close text-reset" (click)="closeOffcanvas()"></button>
  </div>
  <div class="offcanvas-body bg-light">
    <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light nav-offcanvas">
      <div class="pt-3">
       <ng-container *ngTemplateOutlet="menuDashboardPerfil"></ng-container>
      </div>
    </nav>
  </div>
</div>

<ng-template #menuDashboardPerfil>
        <ul id="menuOptions" class="nav flex-column">
          <li id="perfil" class="nav-item" (click)="closeOffcanvas()">
            <a class="nav-link " aria-current="page" [routerLink]="['/dashboard/perfil']" routerLinkActive="active">
              <span data-feather="home"></span>
              Perfil
            </a>
          </li>
          <li id="misgranjas" class="nav-item" *ngIf="tipoUsuario == 'Piscicultor'" (click)="closeOffcanvas()">
            <a class="nav-link"
              [ngClass]="{'miclase':_router.url.includes('/dashboard/granja/detalle'),'disabled':disableTags }"
              [routerLink]="['/dashboard/granjas']" routerLinkActive="active">
              <span data-feather="file"></span>
              Mis granjas
            </a>
          </li>
          <li id="misproductos" class="nav-item" *ngIf="tipoUsuario == 'Proveedor'" (click)="closeOffcanvas()">
            <a class="nav-link"
              [ngClass]="{'miclase':_router.url.includes('/dashboard/producto/detalle'),'disabled':disableTags }"
              [routerLink]="['/dashboard/mis-productos']" routerLinkActive="active">
              <span data-feather="file"></span>
              Mis productos
            </a>
          </li>
          <li id="misvehiculos" class="nav-item" *ngIf="tipoUsuario == 'Transportador'" (click)="closeOffcanvas()">
            <a class="nav-link"
              [ngClass]="{'miclase':_router.url.includes('/dashboard/vehiculo/detalle'),'disabled':disableTags }"
              [routerLink]="['/dashboard/mis-vehiculos']" routerLinkActive="active">
              <span data-feather="file"></span>
              Mis vehículos
            </a>
          </li>
          <li id="consumo" class="nav-item" *ngIf="tipoUsuario == 'Consumidor'" (click)="closeOffcanvas()">
            <a class="nav-link" [ngClass]="{'disabled':disableTags }" [routerLink]="['/dashboard/mi-consumo']"
              routerLinkActive="active">
              <span data-feather="file"></span>
              Mis consumos
            </a>
          </li>
          <li id="misfavoritos" class="nav-item" (click)="closeOffcanvas()">
            <a class="nav-link" aria-current="page" [routerLink]="['/dashboard/mis-favoritos']" routerLinkActive="active">
              <span data-feather="home"></span>
              Mis favoritos
            </a>
          </li>
          <li id="misnegocios" class="nav-item" *ngIf="tipoUsuario == 'Comerciante'" (click)="closeOffcanvas()">
            <a class="nav-link"
              [ngClass]="{'miclase':_router.url.includes('/dashboard/negocio/detalle'),'disabled':disableTags }"
               aria-current="page"
              [routerLink]="['/dashboard/mis-negocios']" routerLinkActive="active">
              <span data-feather="home"></span>
              Mis negocios
            </a>
          </li>
          <li id="misasociaciones" class="nav-item" *ngIf="tipoUsuario == 'Piscicultor' || tipoUsuario == 'Pescador'"
            (click)="closeOffcanvas()">
            <a class="nav-link" aria-current="page" [routerLink]="['/dashboard/mis-asociaciones']"
              [ngClass]="{'miclase':_router.url.includes('/dashboard/asociacion/detalle'),'disabled':disableTags }" routerLinkActive="active">
              <span data-feather="home"></span>
              Mis asociaciones
            </a>
          </li>
          <li id="mispublicaciones" class="nav-item" *ngIf="tipoUsuario == 'Piscicultor' || tipoUsuario == 'Pescador'"
            (click)="closeOffcanvas()">
            <a class="nav-link" aria-current="page" [routerLink]="['/dashboard/mis-publicaciones']"
            [ngClass]="{'miclase':_router.url.includes( '/dashboard/publicacion/detalle'),'disabled':disableTags }"
               routerLinkActive="active">
              <span data-feather="home"></span>
              Mis publicaciones
            </a>
          </li>
          <li id="publicaciones_user" class="nav-item" *ngIf="tipoUsuario == 'Comerciante'" (click)="closeOffcanvas()">
            <a class="nav-link" aria-current="page" [routerLink]="['/dashboard/publicaciones']"
              [ngClass]="{'miclase':_router.url.includes( '/dashboard/publicacion/detalle'),'disabled':disableTags }"
              routerLinkActive="active">
              <span data-feather="home"></span>
              Publicaciones
            </a>
          </li>
          <!--  -->
          <li id="mision-vision" class="nav-item" *ngIf="tipoUsuario == 'Administrador'" (click)="closeOffcanvas()">
            <a class="nav-link" aria-current="page" [routerLink]="['/dashboard/mision-vision-admi']" routerLinkActive="active">
              <span data-feather="home"></span>
              Misión y visión
            </a>
          </li>
          <li id="equipo-trabajo" class="nav-item" *ngIf="tipoUsuario == 'Administrador'" (click)="closeOffcanvas()">
            <a class="nav-link" aria-current="page" [routerLink]="['/dashboard/equipo-trabajo-admi']"
            [ngClass]="{'miclase':_router.url.includes('/dashboard/equipo-trabajo-admi/detalle'),'disabled':disableTags }"
            routerLinkActive="active">
              <span data-feather="home"></span>
              Equipo de trabajo
            </a>
          </li>
          <li id="novedad-actualidad" class="nav-item" *ngIf="tipoUsuario == 'Administrador'" (click)="closeOffcanvas()">
            <a class="nav-link" aria-current="page"
              [ngClass]="{'miclase':_router.url.includes('/dashboard/novedad-actualidad-admi/detalle'),'disabled':disableTags }"
              [routerLink]="['/dashboard/novedad-actualidad-admi']"
              routerLinkActive="active">
              <span data-feather="home"></span>
              Novedades
            </a>
          </li>
          <li id="eventos" class="nav-item" *ngIf="tipoUsuario == 'Administrador'" (click)="closeOffcanvas()">
            <a class="nav-link" aria-current="page"
              [ngClass]="{'miclase':_router.url.includes('/dashboard/evento-admi/detalle'),'disabled':disableTags }"
             [routerLink]="['/dashboard/eventos-admi']" routerLinkActive="active">
              <span data-feather="home"></span>
              Eventos
            </a>
          </li>
          <li id="normatividades" class="nav-item" *ngIf="tipoUsuario == 'Administrador'" (click)="closeOffcanvas()">
            <a class="nav-link" aria-current="page"
            [ngClass]="{'miclase':_router.url.includes('/dashboard/normatividad-admi/detalle'),'disabled':disableTags }"
            [routerLink]="['/dashboard/normatividad-admi']" routerLinkActive="active">
              <span data-feather="home"></span>
              Normativas
            </a>
          </li>
          <li id="slider-inicio" class="nav-item" *ngIf="tipoUsuario == 'Administrador'" (click)="closeOffcanvas()">
            <a class="nav-link" aria-current="page"
            [ngClass]="{'miclase':_router.url.includes('/dashboard/slider-inicio-admi/detalle'),'disabled':disableTags }"
            [routerLink]="['/dashboard/slider-inicio-admi']" routerLinkActive="active">
              <span data-feather="home"></span>
              Slider inicio
            </a>
          </li>
          <li id="enlaces-directos-inicio" class="nav-item" *ngIf="tipoUsuario == 'Administrador'" (click)="closeOffcanvas()">
            <a class="nav-link" aria-current="page"
            [ngClass]="{'miclase':_router.url.includes('/dashboard/enlaces-directos-inicio-admi/detalle'),'disabled':disableTags }"
            [routerLink]="['/dashboard/enlaces-directos-inicio-admi']" routerLinkActive="active">
              <span data-feather="home"></span>
              Enlaces directos inicio
            </a>
          </li>
          <!--  -->
          <li id="contrasena" class="nav-item" style="cursor: pointer;" (click)="closeOffcanvas()">
            <a class="nav-link " aria-current="page" (click)="updatePassword()" routerLinkActive="active">
              <span data-feather="home"></span>
              Cambiar contraseña
            </a>
          </li>
          <li id="salir" class="nav-item" style="cursor: pointer;">
            <a class="nav-link " aria-current="page" (click)="logout()" routerLinkActive="active">
              <span data-feather="home"></span>
              Salir
            </a>
          </li>
        </ul>
</ng-template>
