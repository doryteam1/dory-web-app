<app-notification-bar></app-notification-bar>
<app-search-bar></app-search-bar>
<app-navbar></app-navbar>
<div class="container" *ngIf="!showNotFound && !showError && !showGallery">

<div class="container__box">
<div class="header-container">
    <h3 class="header-container__title">{{granja?.nombre}}</h3>
    <img class="header-container__icon" src="assets/icons/star-filled.svg">
    <span class="header-container__rating">{{granja?.puntuacion ? (granja.puntuacion | number:'1.1-1') : 'S/C'}}</span> <span class="header-container__description">  ({{granja?.count_resenas}} reseñas)  {{granja.nombre_municipio}}, Sucre, Colombia</span>
</div>

<div class="photo-container">
    <div class="buttons-container1">
        <img class="buttons-container__image" src="assets/icons/share.svg"> 
        <a class="buttons-container__description" href="#">Compartir</a>    
    </div>
    <div class="buttons-container2">
        <img class="buttons-container__image" src="assets/icons/heart-outline.svg"> 
        <a class="buttons-container__description" href="#">Guardar</a>     
    </div>
    
    <img class="photo-container__photo1" [src]="granja?.fotos[0] ? granja?.fotos[0] : 'https://admin.moodyyc.com/img/no-image.png'">
    <img class="photo-container__photo2" [src]="granja.fotos[1] ? granja.fotos[1] : 'https://admin.moodyyc.com/img/no-image.png'">
    <img class="photo-container__photo3" [src]="granja?.fotos[2] ? granja?.fotos[2] : 'https://admin.moodyyc.com/img/no-image.png'">
    <img class="photo-container__photo4" [src]="granja?.fotos[3] ? granja?.fotos[3] : 'https://admin.moodyyc.com/img/no-image.png'">
    <img class="photo-container__photo5" [src]="granja?.fotos[4] ? granja?.fotos[4] : 'https://admin.moodyyc.com/img/no-image.png'">    
    <button class="photo-container__button btn-square-blue" (click)="showGallery = !showGallery">Ver todas las fotos</button>
</div>
</div>


<div class="proprietary-container">
    <div class="proprietary-container__info">
        <h3 class="proprietary-container__title">Propietario - {{granja?.propietarios[0]?.nombre_completo}} </h3>
        <span class="proprietary-container__description1">N° Celular  {{granja?.propietarios[0]?.celular}} </span>
        <span class="proprietary-container__description2">{{granja?.propietarios[0]?.direccion}} </span>
    </div>
    <img class="proprietary-container__image" [src]="granja?.propietarios[0]?.foto">    
</div>

<div class="line">
    
</div>

    <div class="detail-container mt-4">
        <img class="detail-container__image" src="assets/images/layers.svg">
        <div class="detail-container__data">
            <h4 class="detail-container__title">area (M²)</h4>
            <span class="detail-container__value">{{granja?.area}}</span>    
        </div>
    </div>
    
    <div class="detail-container">
        <img class="detail-container__image" src="assets/images/fish.svg">
        <div class="detail-container__data">
            <h4 class="detail-container__title">Especies cultivadas</h4>
            <span class="detail-container__value" *ngFor="let especie of granja.especies">{{especie.nombre}}</span>
        </div>
    </div>
    
    <div class="detail-container">
        <img class="detail-container__image" src="assets/images/worker.svg">
        <div class="detail-container__data">
            <h4 class="detail-container__title">Trabajadores</h4>
            <span class="detail-container__value">{{granja?.numero_trabajadores}} trabajadores en total.</span>
        </div>
    </div>
    
    <div class="detail-container">
        <img class="detail-container__image" src="assets/images/weigth.svg">
        <div class="detail-container__data">
            <h4 class="detail-container__title">Producción estimada al mes (kg)</h4>
            <span class="detail-container__value">{{granja?.produccion_estimada_mes}} kg</span>    
        </div>
    </div>
    
    <div class="detail-container">
        <img class="detail-container__image" src="assets/images/wave.svg">
        <div class="detail-container__data">
            <h4 class="detail-container__title">Tipo de infraestructura</h4>
            <span class="detail-container__value" *ngFor="let infraestructura of granja.infraestructuras">{{infraestructura.nombre}}</span>        
        </div>
    </div>    
</div>

<div class="search-container" *ngIf="showNotFound">
  <div class="search-container__box">
      <img class="search-container__image" src="assets/images/searching.svg">
      <h3>No se han encontrado resultados</h3>
      <p>No encontramos la granja solicitada</p>
  </div>
</div>

<div class="search-container" *ngIf="showError">
    <div class="search-container__box">
        <img class="search-container__image2" src="assets/images/problem_solving.svg">
        <h3>{{errorMessage}}</h3>
        <p>No pudimos recuperar la granja solicitada :(</p>
    </div>
</div>

<app-granja-gallery *ngIf="showGallery" [photos]="granja?.fotos"></app-granja-gallery>
<app-footer></app-footer>
<app-floating-btn-auto-up></app-floating-btn-auto-up>